{"version":3,"sources":["components/Contact.js","components/Contacts.js","components/Filter.js","components/AddNewForm.js","components/Notification.js","services/personsService.js","App.js","index.js"],"names":["Contact","person","handleDelete","name","number","onClick","Contacts","personsToShow","map","id","Filter","searchName","handleSearch","value","onChange","AddNewForm","addName","newName","handleNameChange","newNumber","handleNumberChange","handleNumberGenerator","onSubmit","type","Notification","message","className","baseUrl","axios","get","then","response","data","post","delete","put","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchName","setMessage","useEffect","personsServices","initPersons","notifyWith","setTimeout","length","filter","toLowerCase","includes","event","target","preventDefault","existedName","find","nameObject","window","confirm","returnedPerson","p","catch","error","console","log","n","concat","Math","round","random","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.791aa318.chunk.js","sourcesContent":["import React from 'react'\n\nconst Contact = ({person, handleDelete}) => {\n    return(\n        <li>{person.name} {person.number} \n            <button onClick={handleDelete}>delete</button>\n        </li>\n    )\n}\n\nexport default Contact","import React from 'react'\nimport Contact from './Contact'\n\nconst Contacts = ({personsToShow, handleDelete}) => {\n    return(\n        <div>\n            <ul>\n                {personsToShow.map(person => (\n                    <Contact \n                        key={person.name} \n                        person={person} \n                        handleDelete={() => handleDelete(person.id, person.name)}/>)\n                )}\n            </ul>\n        </div>\n    )\n}\n\nexport default Contacts","import React from 'react'\n\nconst Filter = ({searchName, handleSearch}) => {\n    return(\n        <div>\n            filter shown with\n            <input \n            value={searchName}\n            onChange={handleSearch}/>\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react';\n\nconst AddNewForm = ({\n        addName, \n        newName, \n        handleNameChange, \n        newNumber, \n        handleNumberChange,\n        handleNumberGenerator\n    }) => {\n    return (\n        <form onSubmit={addName}>\n            <div>\n                name: \n                <input \n                    value={newName}\n                    onChange={handleNameChange}/>\n            </div>\n            <div>\n                number: \n                <input \n                    value={newNumber}\n                    onChange={handleNumberChange}/>\n            </div>\n            <div>\n                <button onClick={handleNumberGenerator}>Generate a number</button>\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n        \n    );\n};\n\nexport default AddNewForm;","import React from 'react';\n\nconst Notification = ( {message} ) => {\n    if (message === null) {\n        return null\n    }\n    return (\n        <div className = {message.type}>\n            {message.message}\n        </div>\n    );\n    \n};\n\nexport default Notification;","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newName => {\n    const request = axios.post(baseUrl, newName)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response)\n}\n\nconst update = (id, newName) => {\n    const request = axios.put(`${baseUrl}/${id}`, newName)\n    return request.then(response => response.data)\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll, create, deletePerson, update }","import React, { useState, useEffect } from 'react'\nimport Contacts from './components/Contacts'\nimport Filter from './components/Filter'\nimport AddNewForm from './components/AddNewForm'\nimport Notification from './components/Notification'\n\nimport personsServices from './services/personsService'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchName, setSearchName] = useState('')\n  const [ message, setMessage] = useState(null)\n\n  \n  useEffect(() => {\n    personsServices\n      .getAll()\n      .then(initPersons => {\n        setPersons(initPersons)\n      })\n  },[])\n\n  const notifyWith = (message, type = 'success') => {\n    setMessage({message, type})\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n  }\n\n  const handleSearch = (event) => {\n    setSearchName(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const existedName = persons.find(person => {\n      return person.name === newName\n    })\n\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (!existedName) {  \n      personsServices\n        .create(nameObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          notifyWith(`${nameObject.name} is added.`)\n        })\n        .catch(error => {\n          notifyWith(error.response.data.error, 'error')\n          console.log(error)\n        })\n    } else {\n      const message = `${newName} is already added to phonebook, replace the old number with a new one?`\n      if(window.confirm(message)) {\n        personsServices\n          .update(existedName.id, nameObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(p => p.id !== existedName.id ? p : returnedPerson))\n            notifyWith(`${nameObject.name} is updated.`)\n          })\n          .catch(error => {\n            console.log(error.response)\n            notifyWith(`${existedName.name} does not exist.`, 'error')\n            setPersons(persons.filter(n => n.id !== existedName.id))\n          })\n      }\n    }\n  }\n\n  const handleDelete = (id, name) => {\n    const message = `Delete ${name}?`\n    if(window.confirm(message)) {\n      personsServices\n        .deletePerson(id)\n        .then(()=>{\n          setPersons(persons.filter(n => n.id !== id))\n          notifyWith(`${name} is deleted.`)\n        })\n        .catch(error => {\n          console.log(error)\n          setPersons(persons.filter(n => n.id !== id))\n          notifyWith(`${name} had already been removed`, 'error')\n        })\n    }\n  }\n\n  const handleNumberGenerator = (event) => {\n    event.preventDefault()\n    setNewNumber(Math.round(Math.random() * 10000 * 10000))\n  }\n\n  const personsToShow = searchName.length === 0\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(searchName.toLowerCase()) )\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter \n        searchName={searchName} \n        handleSearch={handleSearch} />\n\n      <h2>Add a new</h2>\n      <AddNewForm \n        addName={addName} \n        newName={newName} \n        handleNameChange={handleNameChange} \n        newNumber={newNumber} \n        handleNumberChange={handleNumberChange}\n        handleNumberGenerator={handleNumberGenerator}/>\n      \n      <h2>Numbers</h2>\n      <Contacts \n        personsToShow = {personsToShow} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}